!function(a){"use strict";var b="simpleCD",c=(document,window),d=c.pageTools=c.pageTools||{},e=d.conf=d.conf||{},f=d.util=d.util||{};d[b]=a.extend({},d.base,{init:function(){var b=1,c=0,d=0,e=a('#emule input[name="selectemule"]');e.each(function(){a(this).attr("data-no",b++)}).click(function(b){function f(a,b,c){return a>=b&&c>=a||b>=a&&a>=c}b.shiftKey?(d=+a(this).attr("data-no"),e.each(function(){f(+a(this).attr("data-no"),d,c)&&(a(this)[0].checked=!0)})):b.metaKey?(d=+a(this).attr("data-no"),e.each(function(){f(+a(this).attr("data-no"),d,c)&&(a(this)[0].checked=!1)})):c=+a(this).attr("data-no")})},getLinks:function(){var b="",c=location.protocol+"//"+location.host;a('#emule input[name="selectemule"]:checked').each(function(){var d=f.getPathContent(c+a(this).next().attr("href"),'a[href^="ed2k"]').attr("href");b+=window.decodeURI(d)+"\n"}),f.getBox().text(b).focus().select().off("keydown").keydown(function(a){27===a.keyCode&&e.$box.hide()})}}),a("<button>获取链接</button>").insertBefore('#emule input[value="下载选中资源"]').click(function(){d[b].getLinks()}).css({width:80,height:30,"margin-right":10}),d[b].init()}(jQuery);