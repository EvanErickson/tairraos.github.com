!function(a){"use strict";function b(){function b(){var b,g,h=a("#url");h.val(h.val().replace(/^.*\/cobertura/,"/cobertura")),b=f.baseUrl1+a("#build1").val()+h.val(),g=f.baseUrl2+a("#build2").val()+h.val(),console.log(b,g),a("#file1").append(d(b,"table.source")).on("scroll",c),a("#file2").append(d(g,"table.source")).on("scroll",c),e()}function c(b){a("#file1").scrollLeft(a(this).scrollLeft()),a("#file2").scrollLeft(a(this).scrollLeft())}function d(b,c){var d=a(),e=c||"div";return a.ajax({type:"GET",url:b,async:!1,dataType:"html",success:function(b){d=a("<section />").append(b.replace(/[\n\r]/g,"").replace(/^.*<body[^>]*>(.*)<\/body>.*$/,"$1"))}}),a(e,d)}function e(){var b=a("#file1 tr"),c=a("#file2 tr");if(f.inCompare)b.removeClass("minor primary"),c.removeClass("minor primary");else for(var d=1;d<c.length;d++){var e=b.eq(d).attr("class")===c.eq(d).attr("class")?"minor":"primary";b.eq(d).addClass(e),c.eq(d).addClass(e)}f.inCompare=!f.inCompare}a("script").remove(),a("body").empty().append(['<div id="coverForm">','<span><label>URL:</label><input type="text" name="url" id="url" value=""/></span>','<span><label>Build1:</label><input type="text" name="build1" id="build1" value=""/>','<label>Build2:</label><input type="text" name="build2" id="build2" value=""/>','<button type="button" id="doLoad">加载内容</button></span>',"</div>",'<div id="compare-box">','<div id="file1"></div>','<div id="file2"></div>','<div id="footer"></div>',"</div>"].join("")),a("#doLoad").on("click",b),a("#file1").on("dblclick",e),a("#file2").on("dblclick",e)}var c="coverageTool",d=window,e=d.pageTools=d.pageTools||{},f=e.conf=e.conf||{};f={baseUrl1:"//"+location.host+"/jenkins/job/coveragetest_1/",baseUrl2:"//"+location.host+"/jenkins/job/coveragetest_2/",inCompare:!1},e[c]=a.extend({},e.base,{run:function(){b()}}),e[c].run()}(jQuery);