

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>第十章：列表 &mdash; 《Think Python 2e》中译本 1.0 文档</title>
  

  
    <meta name="keywords" content="《Think Python》第二版中译文, Python 3版入门教材, Allen Downey, EarlGrey, 编程派">
    <meta name="description" content="编程派翻译的《Think Python 2ed》中文版，为最新支持Python 3版的教材。">
  

  
  
    <link rel="shortcut icon" href="_static/favicon.ico"/>
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="索引"
              href="genindex.html"/>
        <link rel="search" title="搜索" href="search.html"/>
    <link rel="top" title="《Think Python 2e》中译本 1.0 文档" href="index.html"/>
        <link rel="next" title="第十一章：字典" href="11-dictionaries.html"/>
        <link rel="prev" title="第九章：文字游戏" href="09-case-study-word-play.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

    
<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?1a54d19172d7819c009872071839bfe3";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-69612020-1', 'auto');
  ga('send', 'pageview');

</script>

    
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> 《Think Python 2e》中译本
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="00-preface.html">前言</a></li>
<li class="toctree-l1"><a class="reference internal" href="01-the-way-of-the-program.html">第一章：程序之道</a></li>
<li class="toctree-l1"><a class="reference internal" href="02-variables-expressions-and-statements.html">第二章：变量、表达式和语句</a></li>
<li class="toctree-l1"><a class="reference internal" href="03-functions.html">第三章：函数</a></li>
<li class="toctree-l1"><a class="reference internal" href="04-case-study-interface-design.html">第四章：案例研究：接口设计</a></li>
<li class="toctree-l1"><a class="reference internal" href="05-conditionals-and-recursion.html">第五章：条件和递归</a></li>
<li class="toctree-l1"><a class="reference internal" href="06-fruitful-functions.html">第六章：有返回值的函数</a></li>
<li class="toctree-l1"><a class="reference internal" href="07-iteration.html">第七章：迭代</a></li>
<li class="toctree-l1"><a class="reference internal" href="08-strings.html">第八章：字符串</a></li>
<li class="toctree-l1"><a class="reference internal" href="09-case-study-word-play.html">第九章：文字游戏</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">第十章：列表</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#id2">列表是一个序列</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id3">列表是可变的</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id4">遍历列表</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id5">列表操作</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id6">列表切片</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id7">列表方法</a></li>
<li class="toctree-l2"><a class="reference internal" href="#filter">映射、筛选和归并</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id9">删除元素</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id10">列表和字符串</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id11">对象和值</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id12">别名</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id13">列表参数</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id14">调试</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id15">术语表</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id16">练习题</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id17">习题10-1</a></li>
<li class="toctree-l3"><a class="reference internal" href="#cumulative">习题10-2</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id19">习题10-3</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id20">习题10-4</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id21">习题10-5</a></li>
<li class="toctree-l3"><a class="reference internal" href="#anagram">习题10-6</a></li>
<li class="toctree-l3"><a class="reference internal" href="#exercise10-7">习题10-7</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id24">习题10-8</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id25">习题10-9</a></li>
<li class="toctree-l3"><a class="reference internal" href="#exercise10-10">习题10-10</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id27">习题10-11</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id28">习题10-12</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id29"><strong>贡献者</strong></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="11-dictionaries.html">第十一章：字典</a></li>
<li class="toctree-l1"><a class="reference internal" href="12-tuples.html">第十二章：元组</a></li>
<li class="toctree-l1"><a class="reference internal" href="13-case-study-data-structure-selection.html">第十三章：案例研究：数据结构选择</a></li>
<li class="toctree-l1"><a class="reference internal" href="14-files.html">第十四章：文件</a></li>
<li class="toctree-l1"><a class="reference internal" href="15-classes-and-objects.html">第十五章：类和对象</a></li>
<li class="toctree-l1"><a class="reference internal" href="16-classes-and-functions.html">第十六章：类和函数</a></li>
<li class="toctree-l1"><a class="reference internal" href="17-classes-and-methods.html">第十七章：类和方法</a></li>
<li class="toctree-l1"><a class="reference internal" href="18-inheritance.html">第十八章：继承</a></li>
<li class="toctree-l1"><a class="reference internal" href="19-the-goodies.html">第十九章：进阶小技巧</a></li>
<li class="toctree-l1"><a class="reference internal" href="20-debugging.html">第二十章：调试</a></li>
<li class="toctree-l1"><a class="reference internal" href="21-analysis-of-algorithms.html">第二十一章：算法分析</a></li>
<li class="toctree-l1"><a class="reference internal" href="foreword.html">译者序</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">《Think Python 2e》中译本</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>第十章：列表</li>
      <li class="wy-breadcrumbs-aside">
        
          
            
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="id1">
<h1>第十章：列表<a class="headerlink" href="#id1" title="永久链接至标题">¶</a></h1>
<p>本章介绍Python中最有用的内置类型之一：列表（list）。你还将进一步学习关于对象的知识
以及同一个对象拥有多个名称时会发生什么。</p>
<div class="section" id="id2">
<h2>列表是一个序列<a class="headerlink" href="#id2" title="永久链接至标题">¶</a></h2>
<p>与字符串类似，<strong>列表</strong> 是由多个值组成的序列。在字符串中，每个值都是字符；
在列表中，值可以是任何数据类型。列表中的值称为 <strong>元素（element）</strong> ，有时也被称为 <strong>项（item）</strong> 。</p>
<p>创建新列表的方法有多种；最简单的方法是用方括号( <code class="docutils literal notranslate"><span class="pre">[</span></code> 和 <code class="docutils literal notranslate"><span class="pre">]</span></code> )将元素包括起来:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">40</span><span class="p">]</span>
<span class="p">[</span><span class="s1">&#39;crunchy frog&#39;</span><span class="p">,</span> <span class="s1">&#39;ram bladder&#39;</span><span class="p">,</span> <span class="s1">&#39;lark vomit&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>第一个例子是包含4个整数的列表。第二个是一个包含3个字符串的列表。
一个列表中的元素不需要是相同的数据类型。下面的列表包含一个字符串、一个浮点数、一个整数和另一个列表：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="s1">&#39;spam&#39;</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">]]</span>
</pre></div>
</div>
<p>一个列表在另一个列表中，称为**嵌套（nested）列表**。</p>
<p>一个不包含元素的列表被称为空列表；你可以用空的方括号 <code class="docutils literal notranslate"><span class="pre">[]</span></code> 创建一个空列表。</p>
<p>正如你想的那样，你可以将列表的值赋给变量：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">cheeses</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Cheddar&#39;</span><span class="p">,</span> <span class="s1">&#39;Edam&#39;</span><span class="p">,</span> <span class="s1">&#39;Gouda&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">numbers</span> <span class="o">=</span> <span class="p">[</span><span class="mi">42</span><span class="p">,</span> <span class="mi">123</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">empty</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">cheeses</span><span class="p">,</span> <span class="n">numbers</span><span class="p">,</span> <span class="n">empty</span><span class="p">)</span>
<span class="go">[&#39;Cheddar&#39;, &#39;Edam&#39;, &#39;Gouda&#39;] [42, 123] []</span>
</pre></div>
</div>
</div>
<div class="section" id="id3">
<h2>列表是可变的<a class="headerlink" href="#id3" title="永久链接至标题">¶</a></h2>
<p>访问列表中元素的语法，与访问字符串中字符的语法相同，都是通过方括号运算符实现的。
括号中的表达式指定了元素的索引。记住，索引从0开始：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">cheeses</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="go">&#39;Cheddar&#39;</span>
</pre></div>
</div>
<p>和字符串不同的是，列表是可变的。当括号运算符出现在赋值语句的左边时，它就指向了列表中将被赋值的元素。</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">numbers</span> <span class="o">=</span> <span class="p">[</span><span class="mi">42</span><span class="p">,</span> <span class="mi">123</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">numbers</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">numbers</span>
<span class="go">[42, 5]</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">numbers</span></code>中索引为1的元素，原来是123，现在变成了5。</p>
<p><a class="reference internal" href="#fig-liststate"><span class="std std-ref">图10-1：状态图</span></a> 是 <code class="docutils literal notranslate"><span class="pre">cheeses</span></code> 、 <code class="docutils literal notranslate"><span class="pre">nubmers</span></code> 和 <code class="docutils literal notranslate"><span class="pre">empty</span></code> 的状态图。</p>
<div class="figure align-default" id="id30">
<span id="fig-liststate"></span><img alt="图10-1：状态图" src="_images/liststate.png" />
<p class="caption"><span class="caption-text">图10-1：状态图</span><a class="headerlink" href="#id30" title="永久链接至图片">¶</a></p>
</div>
<p>列表用外部标有”list”的盒子表示，盒子内部是列表的元素。 <code class="docutils literal notranslate"><span class="pre">cheeses</span></code> 指向一个有3个元素的列表，3个元素的下标分别是0、1、2。<code class="docutils literal notranslate"><span class="pre">numbers</span></code> 包含两个元素；
状态图显示第二个元素原来是123，被重新赋值为5。 <code class="docutils literal notranslate"><span class="pre">empty</span></code> 对应一个没有元素的列表。</p>
<p>列表下标的工作原理和字符串下标相同：</p>
<ul class="simple">
<li><p>任何整数表达式都可以用作下标。</p></li>
<li><p>如果你试图读或写一个不存在的元素，你将会得到一个索引错误(IndexError).</p></li>
<li><p>如果下标是负数，它将从列表的末端开始访问列表。</p></li>
</ul>
<p><code class="docutils literal notranslate"><span class="pre">in</span></code>运算符在列表中同样可以使用。</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">cheeses</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Cheddar&#39;</span><span class="p">,</span> <span class="s1">&#39;Edam&#39;</span><span class="p">,</span> <span class="s1">&#39;Gouda&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s1">&#39;Edam&#39;</span> <span class="ow">in</span> <span class="n">cheeses</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s1">&#39;Brie&#39;</span> <span class="ow">in</span> <span class="n">cheeses</span>
<span class="go">False</span>
</pre></div>
</div>
</div>
<div class="section" id="id4">
<h2>遍历列表<a class="headerlink" href="#id4" title="永久链接至标题">¶</a></h2>
<p>最常用的遍历列表的方式是使用for循环。语法和字符串遍历类似：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">cheese</span> <span class="ow">in</span> <span class="n">cheeses</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">cheese</span><span class="p">)</span>
</pre></div>
</div>
<p>如果你只需要读取列表中的元素，这种方法已经足够。然而，如果你想要写入或者更新列表中的元素，你需要通过下标访问。一种常用的方法是结合内置函数 <code class="docutils literal notranslate"><span class="pre">range</span></code> 和 <code class="docutils literal notranslate"><span class="pre">len</span></code> ：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">numbers</span><span class="p">)):</span>
    <span class="n">numbers</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">numbers</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">*</span> <span class="mi">2</span>
</pre></div>
</div>
<p>这个循环将遍历列表并更新每个元素。<code class="docutils literal notranslate"><span class="pre">len</span></code> 返回列表中的元素个数。<code class="docutils literal notranslate"><span class="pre">range</span></code> 返回一个包含从0到<span class="math">n-1</span>下标的列表，其中<span class="math">n</span>是列表的长度。
每次循环中，<code class="docutils literal notranslate"><span class="pre">i</span></code> 得到下一个元素的下标。循环主体中的赋值语句使用 <code class="docutils literal notranslate"><span class="pre">i</span></code> 读取该元素的旧值，并赋予其一个新值。</p>
<p>对一个空列表执行for循环时，将不会执行循环的主体：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="p">[]:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;This never happens.&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>尽管一个列表可以包含另一个列表，嵌套的列表本身还是被看作一个单个元素。
下面这个列表的长度是4：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="s1">&#39;spam&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;Brie&#39;</span><span class="p">,</span> <span class="s1">&#39;Roquefort&#39;</span><span class="p">,</span> <span class="s1">&#39;Pol le Veq&#39;</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]]</span>
</pre></div>
</div>
</div>
<div class="section" id="id5">
<h2>列表操作<a class="headerlink" href="#id5" title="永久链接至标题">¶</a></h2>
<p>+运算符拼接多个列表：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span> <span class="o">=</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span> <span class="o">=</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span>
<span class="go">[1, 2, 3, 4, 5, 6]</span>
</pre></div>
</div>
<p>运算符 * 以给定次数的重复一个列表:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="mi">4</span>
<span class="go">[0, 0, 0, 0]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span> <span class="o">*</span> <span class="mi">3</span>
<span class="go">[1, 2, 3, 1, 2, 3, 1, 2, 3]</span>
</pre></div>
</div>
<p>第一个例子重复4次。第二个例子重复了那个列表3次。</p>
</div>
<div class="section" id="id6">
<h2>列表切片<a class="headerlink" href="#id6" title="永久链接至标题">¶</a></h2>
<p>切片（slice）运算符同样适用于对列表：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">,</span> <span class="s1">&#39;e&#39;</span><span class="p">,</span> <span class="s1">&#39;f&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="mi">3</span><span class="p">]</span>
<span class="go">[&#39;b&#39;, &#39;c&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="p">[:</span><span class="mi">4</span><span class="p">]</span>
<span class="go">[&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="p">[</span><span class="mi">3</span><span class="p">:]</span>
<span class="go">[&#39;d&#39;, &#39;e&#39;, &#39;f&#39;]</span>
</pre></div>
</div>
<p>如果你省略第一个索引，切片将从列表头开始。如果你省略第二个索引，切片将会到列表尾结束。
所以如果你两者都省略，切片就是整个列表的一个拷贝。</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="p">[:]</span>
<span class="go">[&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;, &#39;e&#39;, &#39;f&#39;]</span>
</pre></div>
</div>
<p>由于列表是可变的，通常在修改列表之前，对列表进行拷贝是很有用的。</p>
<p>切片运算符放在赋值语句的左边时，可以一次更新多个元素：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">,</span> <span class="s1">&#39;e&#39;</span><span class="p">,</span> <span class="s1">&#39;f&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;y&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span>
<span class="go">[&#39;a&#39;, &#39;x&#39;, &#39;y&#39;, &#39;d&#39;, &#39;e&#39;, &#39;f&#39;]</span>
</pre></div>
</div>
</div>
<div class="section" id="id7">
<h2>列表方法<a class="headerlink" href="#id7" title="永久链接至标题">¶</a></h2>
<p>Python为列表提供了一些方法. 例如, <code class="docutils literal notranslate"><span class="pre">append</span></code> 添加一个新元素到列表的末端:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;d&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span>
<span class="go">[&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;]</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">extend</span></code>将接受一个列表作为参数，并将其其中的所有元素添加至目标列表中：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">t1</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t2</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;d&#39;</span><span class="p">,</span> <span class="s1">&#39;e&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t1</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">t2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t1</span>
<span class="go">[&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;, &#39;e&#39;]</span>
</pre></div>
</div>
<p>这个例子中 <code class="docutils literal notranslate"><span class="pre">t2</span></code> 没有改动。</p>
<p><code class="docutils literal notranslate"><span class="pre">sort</span></code>将列表中的元素从小到大进行排序：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;d&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="s1">&#39;e&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span>
<span class="go">[&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;, &#39;e&#39;]</span>
</pre></div>
</div>
<p>大部分的列表方法都是无返回值的；它们对列表进行修改，然后返回None。
如果你意外的写了 <code class="docutils literal notranslate"><span class="pre">t.sort()</span></code> ，你将会对结果感到失望的。</p>
</div>
<div class="section" id="filter">
<span id="id8"></span><h2>映射、筛选和归并<a class="headerlink" href="#filter" title="永久链接至标题">¶</a></h2>
<p>你可以这样使用循环，对列表中所有元素求和:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">add_all</span><span class="p">(</span><span class="n">t</span><span class="p">):</span>
    <span class="n">total</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">t</span><span class="p">:</span>
        <span class="n">total</span> <span class="o">+=</span> <span class="n">x</span>
    <span class="k">return</span> <span class="n">total</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">total</span></code>被初始化为 0。每次循环时, <code class="docutils literal notranslate"><span class="pre">x</span></code> 从列表中获取一个元素。
运算符 += 提供了一个快捷的更新变量的方法。这个 <strong>增量赋值语句（augmented assignment statement）</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">total</span> <span class="o">+=</span> <span class="n">x</span>
</pre></div>
</div>
<p>等价于</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">total</span> <span class="o">=</span> <span class="n">total</span> <span class="o">+</span> <span class="n">x</span>
</pre></div>
</div>
<p>当循环执行时，<code class="docutils literal notranslate"><span class="pre">total</span></code> 将累计元素的和；一个这样的变量有时被称为 <strong>累加器（accumulator）</strong> 。</p>
<p>把一个列表中的元素加起来是一个很常用的操作，
所以Python将其设置为一个内建内置函数 <code class="docutils literal notranslate"><span class="pre">sum</span></code> ：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">sum</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
<span class="go">6</span>
</pre></div>
</div>
<p>一个像这样的将一系列的元素合并成一个单一值的操作有时称为 <strong>归并（reduce）</strong> 。</p>
<p>有时，你在构建一个列表时还需要遍历另一个列表。
例如，下面的函数接受一个字符串列表作为参数，返回包含大写字符的新列表：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">capitalize_all</span><span class="p">(</span><span class="n">t</span><span class="p">):</span>
    <span class="n">res</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">t</span><span class="p">:</span>
        <span class="n">res</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">capitalize</span><span class="p">())</span>
    <span class="k">return</span> <span class="n">res</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">res</span></code>被初始化为一个空列表；每次循环时，我们添加下一个元素。
所以 <code class="docutils literal notranslate"><span class="pre">res</span></code> 是另一种形式的累加器。</p>
<p>类似 <code class="docutils literal notranslate"><span class="pre">capitalize_all</span></code> 这样的操作有时被称为 <strong>映射(map)</strong> ，因为它“映射”一个函数（在本例中是方法 <code class="docutils literal notranslate"><span class="pre">capitalize</span></code> ）到序列中的每个元素上。</p>
<p>另一个常见的操作是从列表中选择一些元素，并返回一个子列表。例如，下面的函数读取一个字符串列表，并返回一个仅包含大写字符串的列表：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">only_upper</span><span class="p">(</span><span class="n">t</span><span class="p">):</span>
    <span class="n">res</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">t</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">s</span><span class="o">.</span><span class="n">isupper</span><span class="p">():</span>
            <span class="n">res</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">res</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">isupper</span></code>是一个字符串方法，如果字符串仅含有大写字母，则返回 <code class="docutils literal notranslate"><span class="pre">True</span></code> 。</p>
<p>类似 <code class="docutils literal notranslate"><span class="pre">only_upper</span></code> 这样的操作被称为 <strong>筛选（filter）</strong> ，因为它选中某些元素，然后剔除剩余的元素。</p>
<p>大部分常用列表操作可以用映射、筛选和归并这个组合表示。</p>
</div>
<div class="section" id="id9">
<h2>删除元素<a class="headerlink" href="#id9" title="永久链接至标题">¶</a></h2>
<p>有多种方法可以从列表中删除一个元素。如果你知道元素的下标，你可以使用 <code class="docutils literal notranslate"><span class="pre">pop</span></code> ：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">t</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span>
<span class="go">[&#39;a&#39;, &#39;c&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span>
<span class="go">&#39;b&#39;</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">pop</span></code>修改列表，并返回被移除的元素。如果你不提供下标，它将移除并返回最后一个元素。</p>
<p>如果你不需要被移除的元素，可以使用 <code class="docutils literal notranslate"><span class="pre">del</span></code> 运算符：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">del</span> <span class="n">t</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span>
<span class="go">[&#39;a&#39;, &#39;c&#39;]</span>
</pre></div>
</div>
<p>如果你知道要删除的值（但是不知道其下标），你可以使用 <code class="docutils literal notranslate"><span class="pre">remove</span></code> ：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="s1">&#39;b&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span>
<span class="go">[&#39;a&#39;, &#39;c&#39;]</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">remove</span></code>的返回值是None.</p>
<p>要移除多个元素，你可以结合切片索引使用 <code class="docutils literal notranslate"><span class="pre">del</span></code> ：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">,</span> <span class="s1">&#39;e&#39;</span><span class="p">,</span> <span class="s1">&#39;f&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">del</span> <span class="n">t</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="mi">5</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span>
<span class="go">[&#39;a&#39;, &#39;f&#39;]</span>
</pre></div>
</div>
<p>同样的，切片选择到第二个下标（不包含第二个下标）处的所有元素。</p>
</div>
<div class="section" id="id10">
<h2>列表和字符串<a class="headerlink" href="#id10" title="永久链接至标题">¶</a></h2>
<p>一个字符串是多个字符组成的序列，一个列表是多个值组成的序列。但是一个由字符组成的列表不同于字符串。可以使用 <code class="docutils literal notranslate"><span class="pre">list</span></code> 将一个字符串转换为字符的列表:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="s1">&#39;spam&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span>
<span class="go">[&#39;s&#39;, &#39;p&#39;, &#39;a&#39;, &#39;m&#39;]</span>
</pre></div>
</div>
<p>由于 <code class="docutils literal notranslate"><span class="pre">list</span></code> 是内置函数的名称，你应避免将它用作变量名。我同样避免使用 <code class="docutils literal notranslate"><span class="pre">l</span></code> ，因为它看起来很像1。这就是为什么我用了 <code class="docutils literal notranslate"><span class="pre">t</span></code> 。</p>
<p><code class="docutils literal notranslate"><span class="pre">list</span></code>函数将字符串分割成单独的字符。如果你想将一个字符串分割成一些单词，你可以使用 <code class="docutils literal notranslate"><span class="pre">split</span></code> 方法：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="s1">&#39;pining for the fjords&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span>
<span class="go">[&#39;pining&#39;, &#39;for&#39;, &#39;the&#39;, &#39;fjords&#39;]</span>
</pre></div>
</div>
<p>可以提高一个叫做 <strong>分隔符（delimiter）</strong> 的可选参数，指定什么字符作为单词之间的分界线。下面的例子使用连字符作为分隔符：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="s1">&#39;spam-spam-spam&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">delimiter</span> <span class="o">=</span> <span class="s1">&#39;-&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">delimiter</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span>
<span class="go">[&#39;spam&#39;, &#39;spam&#39;, &#39;spam&#39;]</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">join</span></code>的功能和 <code class="docutils literal notranslate"><span class="pre">split</span></code> 相反。它将一个字符串列表的元素拼接起来。<code class="docutils literal notranslate"><span class="pre">join</span></code> 是一个字符串方法，所以你需要在一个分隔符上调用它，并传入一个列表作为参数：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;pining&#39;</span><span class="p">,</span> <span class="s1">&#39;for&#39;</span><span class="p">,</span> <span class="s1">&#39;the&#39;</span><span class="p">,</span> <span class="s1">&#39;fjords&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">delimiter</span> <span class="o">=</span> <span class="s1">&#39; &#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">delimiter</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span>
<span class="go">&#39;pining for the fjords&#39;</span>
</pre></div>
</div>
<p>在这个例子中，分隔符是一个空格，所以 <code class="docutils literal notranslate"><span class="pre">join</span></code> 在单词之间添加一个空格。如果不使用空格拼接字符串，你可以使用空字符串 <code class="docutils literal notranslate"><span class="pre">''</span></code> 作为分隔符。</p>
</div>
<div class="section" id="id11">
<h2>对象和值<a class="headerlink" href="#id11" title="永久链接至标题">¶</a></h2>
<p>如果我们执行下面的赋值语句:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">a</span> <span class="o">=</span> <span class="s1">&#39;banana&#39;</span>
<span class="n">b</span> <span class="o">=</span> <span class="s1">&#39;banana&#39;</span>
</pre></div>
</div>
<p>我们知道 <code class="docutils literal notranslate"><span class="pre">a</span></code> 和 <code class="docutils literal notranslate"><span class="pre">b</span></code> 都指向一个字符串，但是我们不知道是否他们指向 <em>同一个</em> 字符串。这里有两种可能的状态，如<a class="reference internal" href="#fig-list1"><span class="std std-ref">图10-2：状态图</span></a>所示。</p>
<div class="figure align-default" id="id31">
<span id="fig-list1"></span><img alt="图10-2：状态图" src="_images/list1.png" />
<p class="caption"><span class="caption-text">图10-2：状态图</span><a class="headerlink" href="#id31" title="永久链接至图片">¶</a></p>
</div>
<p>一种情况是，<code class="docutils literal notranslate"><span class="pre">a</span></code> 和 <code class="docutils literal notranslate"><span class="pre">b</span></code> 指向两个有相同值的不同对象。
第二种情况是，它们指向同一个对象。</p>
<p>为了查看两个变量是否指向同一个对象，你可以使用 <code class="docutils literal notranslate"><span class="pre">is</span></code> 运算符。</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="s1">&#39;banana&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span> <span class="o">=</span> <span class="s1">&#39;banana&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="ow">is</span> <span class="n">b</span>
<span class="go">True</span>
</pre></div>
</div>
<p>在这个例子中，Python仅生成了一个字符串对象，<code class="docutils literal notranslate"><span class="pre">a</span></code> 和 <code class="docutils literal notranslate"><span class="pre">b</span></code> 都指向它。但是当你创建两个列表时，你得到的是两个对象：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="ow">is</span> <span class="n">b</span>
<span class="go">False</span>
</pre></div>
</div>
<p>所以状态图如<a class="reference internal" href="#fig-list2"><span class="std std-ref">图10-3：状态图</span></a>所示。</p>
<div class="figure align-default" id="id32">
<span id="fig-list2"></span><img alt="图10-3：状态图" src="_images/list2.png" />
<p class="caption"><span class="caption-text">图10-3：状态图</span><a class="headerlink" href="#id32" title="永久链接至图片">¶</a></p>
</div>
<p>在这个例子中，我们称这两个列表是 <strong>相等（equivalent）</strong> 的，因为它们有相同的元素。但它们并不 <strong>相同（identical）</strong> ，因为他们不是同一个对象。如果两个对象 <strong>相同</strong> ，它们也是相等的，但是如果它们是相等的，它们不一定是相同的。</p>
<p>之前，我们一直在等价地使用”对象”和“值”，但是更准确的说，一个对象拥有一个值。
如果你对 <code class="docutils literal notranslate"><span class="pre">[1,</span> <span class="pre">2,</span> <span class="pre">3]</span></code> 求值，会得到一个值为整数序列的列表对象。
如果另一个列表有同样的元素，我们说它们有相同的值，但是它们并不是同一个对象。</p>
</div>
<div class="section" id="id12">
<h2>别名<a class="headerlink" href="#id12" title="永久链接至标题">¶</a></h2>
<p>如果 <code class="docutils literal notranslate"><span class="pre">a</span></code> 指向一个对象，然后你赋值 <code class="docutils literal notranslate"><span class="pre">b</span> <span class="pre">=</span> <span class="pre">a</span></code> ，那么两个变量指向同一个对象：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span> <span class="o">=</span> <span class="n">a</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span> <span class="ow">is</span> <span class="n">a</span>
<span class="go">True</span>
</pre></div>
</div>
<p>状态图如<a class="reference internal" href="#fig-list3"><span class="std std-ref">图10-4：状态图</span></a>所示。</p>
<div class="figure align-default" id="id33">
<span id="fig-list3"></span><img alt="图10-4：状态图" src="_images/list3.png" />
<p class="caption"><span class="caption-text">图10-4：状态图</span><a class="headerlink" href="#id33" title="永久链接至图片">¶</a></p>
</div>
<p>变量和对象之间的关联称为 <strong>引用（reference）</strong> 。
在这个例子中，有两个对同一个对象的引用。</p>
<p>如果一个对象有多于一个引用，那它也会有多个名称，
我们称这个对象是 <strong>有别名的（aliased）</strong> 。</p>
<p>如果一个有别名的对象是可变的，对其中一个别名（alias）的改变对影响到其它的别名：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">b</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">42</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span>
<span class="go">[42, 2, 3]</span>
</pre></div>
</div>
<p>尽管这个行为很有用，但是容易导致出现错误。
通常，避免对于可变对象使用别名相对更安全。</p>
<p>对于像字符串这样的不可变对象，使用别名没有什么问题。例如：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">a</span> <span class="o">=</span> <span class="s1">&#39;banana&#39;</span>
<span class="n">b</span> <span class="o">=</span> <span class="s1">&#39;banana&#39;</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">a</span></code>和 <code class="docutils literal notranslate"><span class="pre">b</span></code> 是否指向同一个字符串基本上没有什么影响。</p>
</div>
<div class="section" id="id13">
<h2>列表参数<a class="headerlink" href="#id13" title="永久链接至标题">¶</a></h2>
<p>当你将一个列表作为参数传给一个函数，函数将得到这个列表的一个引用。如果函数对这个列表进行了修改，会在调用者中有所体现。例如， <code class="docutils literal notranslate"><span class="pre">delete_head</span></code> 删除列表的第一个元素：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">delete_head</span><span class="p">(</span><span class="n">t</span><span class="p">):</span>
    <span class="k">del</span> <span class="n">t</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
<p>这样使用这个函数：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">letters</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">delete_head</span><span class="p">(</span><span class="n">letters</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">letters</span>
<span class="go">[&#39;b&#39;, &#39;c&#39;]</span>
</pre></div>
</div>
<p>参数 <code class="docutils literal notranslate"><span class="pre">t</span></code> 和变量 <code class="docutils literal notranslate"><span class="pre">letters</span></code> 是同一个对象的别名。
其堆栈图如<a class="reference internal" href="#fig-stack5"><span class="std std-ref">图10-5：堆栈图</span></a>所示。</p>
<div class="figure align-default" id="id34">
<span id="fig-stack5"></span><img alt="图10-5：堆栈图" src="_images/stack5.png" />
<p class="caption"><span class="caption-text">图10-5：堆栈图</span><a class="headerlink" href="#id34" title="永久链接至图片">¶</a></p>
</div>
<p>由于列表被两个帧共享，我把它画在它们中间。</p>
<p>需要注意的是修改列表操作和创建列表操作间的区别。
例如，<code class="docutils literal notranslate"><span class="pre">append</span></code> 方法是修改一个列表，而 + 运算符是创建一个新的列表：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">t1</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t2</span> <span class="o">=</span> <span class="n">t1</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t1</span>
<span class="go">[1, 2, 3]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t2</span>
<span class="go">None</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">append</span></code>修改列表并返回None。</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">t3</span> <span class="o">=</span> <span class="n">t1</span> <span class="o">+</span> <span class="p">[</span><span class="mi">4</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t1</span>
<span class="go">[1, 2, 3]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t3</span>
<span class="go">[1, 2, 3, 4]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t1</span>
</pre></div>
</div>
<p>运算符 + 创建了一个新列表，而不改变原始的列表。</p>
<p>如果你要编写一个修改列表的函数，这一点就很重要。
例如，这个函数 <em>不会</em> 删除列表的第一个元素：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">bad_delete_head</span><span class="p">(</span><span class="n">t</span><span class="p">):</span>
    <span class="n">t</span> <span class="o">=</span> <span class="n">t</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span>              <span class="c1"># 错的！</span>
</pre></div>
</div>
<p>切片运算符创建了一个新列表，然后这个表达式让 <code class="docutils literal notranslate"><span class="pre">t</span></code> 指向了它，
但是并不会影响原来被调用的列表。</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">t4</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bad_delete_head</span><span class="p">(</span><span class="n">t4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t4</span>
<span class="go">[1, 2, 3]</span>
</pre></div>
</div>
<p>在 <code class="docutils literal notranslate"><span class="pre">bad_delete_head</span></code> 的开始处，<code class="docutils literal notranslate"><span class="pre">t</span></code> 和 <code class="docutils literal notranslate"><span class="pre">t4</span></code> 指向同一个列表。在结束时，<code class="docutils literal notranslate"><span class="pre">t</span></code> 指向一个新列表，但是 <code class="docutils literal notranslate"><span class="pre">t4</span></code> 仍然指向原来的、没有被改动的列表。</p>
<p>一个替代的写法是，写一个创建并返回一个新列表的函数。
例如，<code class="docutils literal notranslate"><span class="pre">tail</span></code> 返回列表中除了第一个之外的所有元素：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">tail</span><span class="p">(</span><span class="n">t</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">t</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span>
</pre></div>
</div>
<p>这个函数不会修改原来的列表。下面是函数的使用方法：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">letters</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rest</span> <span class="o">=</span> <span class="n">tail</span><span class="p">(</span><span class="n">letters</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rest</span>
<span class="go">[&#39;b&#39;, &#39;c&#39;]</span>
</pre></div>
</div>
</div>
<div class="section" id="id14">
<h2>调试<a class="headerlink" href="#id14" title="永久链接至标题">¶</a></h2>
<p>粗心地使用列表（以及其他可变对象）会导致长时间的调试。
下面列举一些常见的陷阱以及避免它们的方法：</p>
<ol class="arabic">
<li><p>大多数的列表方法会对参数进行修改，然后返回 <code class="docutils literal notranslate"><span class="pre">None</span></code> 。这和字符串方法相反，后者保留原始的字符串并返回一个新的字符串。</p>
<p>如果你习惯这样写字符串代码：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">word</span> <span class="o">=</span> <span class="n">word</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
</pre></div>
</div>
<p>那么你很可能会写出下面的列表代码：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">t</span> <span class="o">=</span> <span class="n">t</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>           <span class="c1"># 错误！</span>
</pre></div>
</div>
<p>因为 <code class="docutils literal notranslate"><span class="pre">sort</span></code> 返回 <code class="docutils literal notranslate"><span class="pre">None</span></code> ，所以你的下一个对 <code class="docutils literal notranslate"><span class="pre">t</span></code> 执行的操作很可能会失败。</p>
<p>在使用 <code class="docutils literal notranslate"><span class="pre">list</span></code> 方法和操作符之前，你应该仔细阅读文档，然后在交互模式下测试。</p>
</li>
<li><p>选择一种写法，坚持下去。</p>
<p>列表的一个问题就是有太多方法可以做同样的事情。
例如，要删除列表中的一个元素，你可以使用 <code class="docutils literal notranslate"><span class="pre">pop</span></code> 、<code class="docutils literal notranslate"><span class="pre">remove</span></code> 、<code class="docutils literal notranslate"><span class="pre">del</span></code> 甚至是切片赋值。</p>
<p>要添加一个元素，你可以使用 <code class="docutils literal notranslate"><span class="pre">append</span></code> 方法或者 + 运算符。假设 <code class="docutils literal notranslate"><span class="pre">t</span></code> 是一个列表，<code class="docutils literal notranslate"><span class="pre">x</span></code> 是一个列表元素，以下这些写法都是正确的：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">t</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="n">t</span> <span class="o">=</span> <span class="n">t</span> <span class="o">+</span> <span class="p">[</span><span class="n">x</span><span class="p">]</span>
<span class="n">t</span> <span class="o">+=</span> <span class="p">[</span><span class="n">x</span><span class="p">]</span>
</pre></div>
</div>
<p>而这些是错误的：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">t</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">x</span><span class="p">])</span>          <span class="c1"># 错误！</span>
<span class="n">t</span> <span class="o">=</span> <span class="n">t</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>        <span class="c1"># 错误！</span>
<span class="n">t</span> <span class="o">+</span> <span class="p">[</span><span class="n">x</span><span class="p">]</span>                <span class="c1"># 错误！</span>
<span class="n">t</span> <span class="o">=</span> <span class="n">t</span> <span class="o">+</span> <span class="n">x</span>              <span class="c1"># 错误！</span>
</pre></div>
</div>
<p>在交互模式下尝试每一个例子，保证你明白它们做了什么。
注意只有最后一个会导致运行时错误；其他的都是合乎规范的的，但结果却是错的。</p>
</li>
<li><p>通过创建拷贝来避免别名.</p>
<p>如果你要使用类似 <code class="docutils literal notranslate"><span class="pre">sort</span></code> 这样的方法来修改参数，
但同时有要保留原列表，你可以创建一个拷贝。</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t2</span> <span class="o">=</span> <span class="n">t</span><span class="p">[:]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t2</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span>
<span class="go">[3, 1, 2]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t2</span>
<span class="go">[1, 2, 3]</span>
</pre></div>
</div>
<p>在这个例子中，你还可以使用内置函数 <code class="docutils literal notranslate"><span class="pre">sorted</span></code> ，它将返回一个新的已排序的列表，原列表将保持不变。</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">t2</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span>
<span class="go">[3, 1, 2]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t2</span>
<span class="go">[1, 2, 3]</span>
</pre></div>
</div>
</li>
</ol>
</div>
<div class="section" id="id15">
<h2>术语表<a class="headerlink" href="#id15" title="永久链接至标题">¶</a></h2>
<p>列表（list）:</p>
<blockquote>
<div><p>多个值组成的序列。</p>
</div></blockquote>
<p>元素（element）:</p>
<blockquote>
<div><p>列表（或序列）中的一个值，也称为项。</p>
</div></blockquote>
<p>嵌套列表（nested list）:</p>
<blockquote>
<div><p>作为另一个列表的元素的列表。</p>
</div></blockquote>
<p>累加器（accumulator）:</p>
<blockquote>
<div><p>循环中用于相加或累积出一个结果的变量。</p>
</div></blockquote>
<p>增量赋值语句（augmented assignment）:</p>
<blockquote>
<div><p>一个使用类似 <code class="docutils literal notranslate"><span class="pre">+=</span></code> 操作符来更新一个变量的值的语句。</p>
</div></blockquote>
<p>归并（reduce）:</p>
<blockquote>
<div><p>遍历序列，将所有元素求和为一个值的处理模式。</p>
</div></blockquote>
<p>映射（map）:</p>
<blockquote>
<div><p>遍历序列，对每个元素执行操作的处理模式。</p>
</div></blockquote>
<p>筛选（filter）:</p>
<blockquote>
<div><p>遍历序列，选出满足一定标准的元素的处理模式。</p>
</div></blockquote>
<p>对象（object）:</p>
<blockquote>
<div><p>变量可以指向的东西。一个对象有数据类型和值。</p>
</div></blockquote>
<p>相等（equivalent）:</p>
<blockquote>
<div><p>有相同的值。</p>
</div></blockquote>
<p>相同（identical）:</p>
<blockquote>
<div><p>是同一个对象（隐含着相等）。</p>
</div></blockquote>
<p>引用（reference）:</p>
<blockquote>
<div><p>一个变量和它的值之间的关联。</p>
</div></blockquote>
<p>别名使用:</p>
<blockquote>
<div><p>两个或者两个以上变量指向同一个对象的情况。</p>
</div></blockquote>
<p>分隔符（delimiter）:</p>
<blockquote>
<div><p>一个用于指示字符串分割位置的字符或者字符串。</p>
</div></blockquote>
</div>
<div class="section" id="id16">
<h2>练习题<a class="headerlink" href="#id16" title="永久链接至标题">¶</a></h2>
<p>你可以从 <a class="reference external" href="code/list_exercises.py">http://thinkpython2.com/code/list_exercises.py</a> 下载这些练习题的答案。</p>
<div class="section" id="id17">
<h3>习题10-1<a class="headerlink" href="#id17" title="永久链接至标题">¶</a></h3>
<p>编写一个叫做 <code class="docutils literal notranslate"><span class="pre">nested_sum</span></code> 的函数，接受一个由一些整数列表构成的列表作为参数，并将所有嵌套列表中的元素相加。
例如：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nested_sum</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
<span class="go">21</span>
</pre></div>
</div>
</div>
<div class="section" id="cumulative">
<span id="id18"></span><h3>习题10-2<a class="headerlink" href="#cumulative" title="永久链接至标题">¶</a></h3>
<p>编写一个叫做 <code class="docutils literal notranslate"><span class="pre">cumsum</span></code> 的函数，接受一个由数值组成的列表，并返回累加和；
即一个新列表，其中第<span class="math">i</span>个元素是原列表中前<span class="math">i+1</span>个元素的和。
例如：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cumsum</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
<span class="go">[1, 3, 6]</span>
</pre></div>
</div>
</div>
<div class="section" id="id19">
<h3>习题10-3<a class="headerlink" href="#id19" title="永久链接至标题">¶</a></h3>
<p>编写一个叫做 <code class="docutils literal notranslate"><span class="pre">middle</span></code> 的函数，接受一个列表作为参数，并返回一个除了第一个和最后一个元素的列表。
例如：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">middle</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
<span class="go">[2, 3]</span>
</pre></div>
</div>
</div>
<div class="section" id="id20">
<h3>习题10-4<a class="headerlink" href="#id20" title="永久链接至标题">¶</a></h3>
<p>编写一个叫做 <code class="docutils literal notranslate"><span class="pre">chop</span></code> 的函数，接受一个列表作为参数，移除第一个和最后一个元素，并返回None。
例如：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">chop</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span>
<span class="go">[2, 3]</span>
</pre></div>
</div>
</div>
<div class="section" id="id21">
<h3>习题10-5<a class="headerlink" href="#id21" title="永久链接至标题">¶</a></h3>
<p>编写一个叫做``is_sorted``的函数，接受一个列表作为参数，
如果列表是递增排列的则返回 <code class="docutils literal notranslate"><span class="pre">True</span></code> ，否则返回False。
例如：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">is_sorted</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">])</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">is_sorted</span><span class="p">([</span><span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">])</span>
<span class="go">False</span>
</pre></div>
</div>
</div>
<div class="section" id="anagram">
<span id="id22"></span><h3>习题10-6<a class="headerlink" href="#anagram" title="永久链接至标题">¶</a></h3>
<p>如果可以通过重排一个单词中字母的顺序，得到另外一个单词，那么称这两个单词是变位词。
编写一个叫做 <code class="docutils literal notranslate"><span class="pre">is_anagram</span></code> 的函数，接受两个字符串作为参数，
如果它们是变位词则返回 <code class="docutils literal notranslate"><span class="pre">True</span></code> 。</p>
</div>
<div class="section" id="exercise10-7">
<span id="id23"></span><h3>习题10-7<a class="headerlink" href="#exercise10-7" title="永久链接至标题">¶</a></h3>
<p>编写一个叫做 <code class="docutils literal notranslate"><span class="pre">has_duplicates</span></code> 的函数，接受一个列表作为参数，
如果一个元素在列表中出现了不止一次，则返回 <code class="docutils literal notranslate"><span class="pre">True</span></code> 。
这个函数不能改变原列表。</p>
</div>
<div class="section" id="id24">
<h3>习题10-8<a class="headerlink" href="#id24" title="永久链接至标题">¶</a></h3>
<p>这个习题与所谓的生日悖论有关。
你可以在 <a class="reference external" href="http://en.wikipedia.org/wiki/Birthday_paradox">http://en.wikipedia.org/wiki/Birthday_paradox</a> 中了解更多相关的内容。</p>
<p>如果你的班级上有23个学生， 2个学生生日相同的概率是多少？
你可以通过随机产生23个生日，并检查匹配来估算概率。
提示：你可以使用 <code class="docutils literal notranslate"><span class="pre">random</span></code> 模块中的 <code class="docutils literal notranslate"><span class="pre">randint</span></code> 函
数来生成随机生日。</p>
<p>你可以从 <a class="reference external" href="code/birthday.py">http://thinkpython2.com/code/birthday.py</a> 下载我的答案。</p>
</div>
<div class="section" id="id25">
<h3>习题10-9<a class="headerlink" href="#id25" title="永久链接至标题">¶</a></h3>
<p>编写一个函数，读取文件 <code class="docutils literal notranslate"><span class="pre">words.txt</span></code> ，建立一个列表,其中每个单词为一个元素。
编写两个版本，一个使用 <code class="docutils literal notranslate"><span class="pre">append</span></code> 方法，另一个使用 <code class="docutils literal notranslate"><span class="pre">t</span> <span class="pre">=</span> <span class="pre">t</span> <span class="pre">+</span> <span class="pre">[x]</span></code> 。
那个版本运行得慢？为什么？</p>
<p>答案： <a class="reference external" href="code/wordlist.py">http://thinkpython2.com/code/wordlist.py</a> 。</p>
</div>
<div class="section" id="exercise10-10">
<span id="id26"></span><h3>习题10-10<a class="headerlink" href="#exercise10-10" title="永久链接至标题">¶</a></h3>
<p>你可以使用 in 运算符检查一个单词是否在单词表中，但这很慢，因为它是按顺序查找单词。</p>
<p>由于单词是按照字母顺序排序的，我们可以使用两分法（也称二进制搜索）来加快速度，
类似你在字典中查找单词的方法。
你从中间开始，如果你要找的单词在中间的单词之前，你查找前半部分，否则你查找后半部分。</p>
<p>不管怎样，你都会将搜索范围减小一半。
如果单词表有 113,809 个单词，你只需要 17步就可以找到这个单词，或着得出单词不存在的结论。</p>
<p>编写一个叫做 <code class="docutils literal notranslate"><span class="pre">in_bisect</span></code> 的函数，接受一个已排序的列表和一个目标值作为参数，
返回该值在列表中的位置，如果不存在则返回 <code class="docutils literal notranslate"><span class="pre">None</span></code> 。</p>
<p>或者你可以阅读 <code class="docutils literal notranslate"><span class="pre">bisect</span></code> 模块的文档并使用它！</p>
<p>答案： <a class="reference external" href="code/inlist.py">http://thinkpython2.com/code/inlist.py</a>.</p>
</div>
<div class="section" id="id27">
<h3>习题10-11<a class="headerlink" href="#id27" title="永久链接至标题">¶</a></h3>
<p>两个单词中如果一个是另一个的反转，则二者被称为是“反转词对”。
编写一个函数，找出单词表中所有的反转词对。</p>
<p>解答： <a class="reference external" href="code/reverse_pair.py">http://thinkpython2.com/code/reverse_pair.py</a> 。</p>
</div>
<div class="section" id="id28">
<h3>习题10-12<a class="headerlink" href="#id28" title="永久链接至标题">¶</a></h3>
<p>如果交替的从两个单词中取出字符将组成一个新的单词，这两个单词被称为是“连锁词”。
例如，“ shoe”和“ cold”连锁后成为“schooled”。</p>
<p>答案： <a class="reference external" href="code/interlock.py">http://thinkpython2.com/code/interlock.py</a> 。
致谢：这个练习的灵感来自网站 <a class="reference external" href="http://puzzlers.org">http://puzzlers.org</a> 的一个示例。</p>
<ol class="arabic simple">
<li><p>编写一个程序，找出单词表中所有的连锁词。提示：不要枚举所有的单词对。</p></li>
<li><p>你能够找到三重连锁的单词吗？即每个字母依次从3个单词得到。</p></li>
</ol>
</div>
<div class="section" id="id29">
<h3><strong>贡献者</strong><a class="headerlink" href="#id29" title="永久链接至标题">¶</a></h3>
<ol class="arabic simple">
<li><p>翻译：<a class="reference external" href="https://github.com/obserthinker">&#64;obserthinker</a></p></li>
<li><p>校对：<a class="reference external" href="https://github.com/bingjin">&#64;bingjin</a></p></li>
<li><p>参考：<a class="reference external" href="https://github.com/carfly">&#64;carfly</a></p></li>
</ol>
</div>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="11-dictionaries.html" class="btn btn-neutral float-right" title="第十一章：字典" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="09-case-study-word-play.html" class="btn btn-neutral" title="第九章：文字游戏" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, EarlGrey et.al@codingpy.com.
      最后更新于 5月 31, 2020.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'1.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="_static/language_data.js"></script>
      <script type="text/javascript" src="_static/translations.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>